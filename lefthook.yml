pre-push:
  #  follow: true
  jobs:
    - runner: bash
      script: "push-split.sh"
      #skip:
      #  - run: "! git diff --name-only origin/main...HEAD | grep -qE '^(packages|modules)/'" # Only push on main

pre-commit:
  parallel: true
  jobs:
    - run: ./vendor/bin/pint {staged_files}
      glob: "*.{php}"
      exclude:
        - "bootstrap/cache"
        - "bootstrap/cache/*"
        - "bootstrap/cache/**"
        - "workbench"
        - "workbench/*"
        - "workbench/**"
        - "forks/"
        - "public"
        - "config"
        - "storage"
        - ".bruno"
        - ".junie"
        - ".laravel"
      stage_fixed: true
